---
title: "Kintoneãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ï¼ˆWebpack + Tailwindcss + DaisyUIï¼‰"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["kintone", "webpack","tailwindcss", "daisyui"]
published: false
publication_name: "karabiner_inc"
---

# ã¯ã˜ã‚ã«
ã“ã®è¨˜äº‹ã§ã¯ã€Kintoneã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºç’°å¢ƒã«ã¤ã„ã¦ã€
Webpackã¨æœ€è¿‘å€‹äººçš„ã«ãƒãƒã£ã¦ã„ã‚‹Tailwindcss + DaisyUIã®æ§‹æˆã§
ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

# Kintoneã®webpacké–‹ç™ºç’°å¢ƒã®æº–å‚™

Kintoneãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã¨ã€webpackã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ç’°å¢ƒæ•´å‚™ã‚’å…¬å¼ã®ã‚µã‚¤ãƒˆã«ã¦è§£èª¬ãŒã‚ã‚‹ã®ã§ã€ä»¥ä¸‹ã®è¨˜äº‹ã«ã—ãŸãŒã£ã¦ãã ã•ã„ã€‚

1. [create-plugin](https://cybozu.dev/ja/kintone/sdk/development-environment/create-plugin/)
2. [webpack-plugin-kintone-plugin](https://cybozu.dev/ja/kintone/sdk/development-environment/webpack-plugin-kintone-plugin/)
3. [plugin-uploader](https://cybozu.dev/ja/kintone/sdk/development-environment/plugin-uploader/)

ã“ã“ã¾ã§ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚

```
â”œâ”€â”€ dist
â”‚   â””â”€â”€ plugin.zip
â”œâ”€â”€ node_modules
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ plugin
â”‚   â”œâ”€â”€ css
â”‚   â”‚   â”œâ”€â”€ 51-modern-default.css
â”‚   â”‚   â”œâ”€â”€ config.css
â”‚   â”‚   â””â”€â”€ desktop.css
â”‚   â”œâ”€â”€ html
â”‚   â”‚   â””â”€â”€ config.html
â”‚   â”œâ”€â”€ image
â”‚   â”‚   â””â”€â”€ icon.png
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ private.ppk
â”œâ”€â”€ scripts
â”‚   â””â”€â”€ npm-start.js
â”œâ”€â”€ src
â”‚   â””â”€â”€ js
â”‚       â”œâ”€â”€ config.js
â”‚       â””â”€â”€ desktop.js
â””â”€â”€ webpack.config.js
```

ã¾ãŸã€ç¾æ™‚ç‚¹ã§ã®package.jsonã®å†…å®¹ã¯ä»¥ä¸‹ã¨ãªã‚‹ã¯ãšã§ã™ã€‚

```json:package.json
...
"devDependencies": {
    "@cybozu/eslint-config": "^18.0.3",
    "@kintone/plugin-packer": "^8.0.1",
    "@kintone/plugin-uploader": "^9.0.1",
    "@kintone/webpack-plugin-kintone-plugin": "^8.0.2",
    "eslint": "^8.52.0",
    "npm-run-all": "^4.1.5",
    "webpack": "^5.89.0",
    "webpack-cli": "^5.1.4",
  },
...
```

# Tailwindcssã¨DaisyUIã®å°å…¥

å°å…¥ã¯npmã‚³ãƒãƒ³ãƒ‰ã®ã¿ã§çµ‚äº†ã—ã¾ã™ã€‚

```bash
$ npm i -D tailwindcss daisyui
```

ç¶šã„ã¦ã€å„ç¨®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

```bash
$ npx tailwindcss init -p
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€
`tailwind.config.js`ã¨`postcss.config.js`ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

ãã‚Œãã‚Œã€ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¦ãã ã•ã„ã€‚

```js:tailwind.config.js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ['./plugin/html/*.html'],
  theme: {
    extend: {},
  },
  plugins: [
    require('daisyui')
  ],
  darkMode: 'class',
  daisyui: {
    themes: ['light'],
  }
}
```

```js:postcss.config.js
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {}
  }
}
```

ã¾ãŸã€å°å…¥ã«åˆã‚ã›ã¦webpackã§cssã‚‚èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãšã¯webpackã«èª­ã¿è¾¼ã¾ã›ã‚‹cssãƒ•ã‚¡ã‚¤ãƒ«ã‚’`src/css`å†…ã«`index.css`ã‚’ä½œæˆã—ã¾ã™ã€‚

```css:index.css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

ç¶šã„ã¦ã€CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã®è¨­å®šã‚’è¿½è¨˜ã—ã¾ã™ã€‚

```js diff:webpack.config.js
  ...
  entry: {
  ...
+   'css': './src/css/index.css',
  },
  ...
+ module: {
+   rules: [
+     {
+       test: /\.css$/,
+       use: ['css-loader', 'postcss-loader']
+     },
+   ]
+ },
  ...
```

ã“ã“ã¾ã§ã§ã€Tailwindcssã¨DaisyUIã‚’åˆ©ç”¨ã—ãŸé–‹ç™ºã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚

# ãŠå¥½ã¿è¨­å®š
ä»¥é™ã¯å¿…é ˆã§ãªã„è¨­å®šã®é …ç›®ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚
ç›®çš„ãªã©ã‚‚ä½µè¨˜ã—ã¦ãŠãã®ã§ã€ãŠå¥½ã¿ã«åˆã‚ã›ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚

## CSSæœ€å°åŒ–ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
ç›®çš„ï¼šCSSã‚’æœ€å°åŒ–ï¼ˆãƒŸãƒ‹ãƒã‚¤ã‚ºï¼‰ã—ã¦ã€å®¹é‡å‰Šæ¸›

```bash
$ npm i -D css-minimizer-webpack-plugin
```

```js:weback.config.js
const CssMinimizerPlugin = require('css-minimizer-webpack-plugin')
...
module.exports = {
  ...
  optimization: {
    minimizer: [new CssMinimizerPlugin()],
  }
}
```

## CSSåˆ†é›¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
ç›®çš„ï¼šCSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’JSã‹ã‚‰åˆ†é›¢ã—ã¦ã€å˜ç‹¬ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã«ã—ãŸæ–¹ãŒå¥½ããªäººã‚‚ã„ã‚‹

```bash
$ npm i -D mini-css-extract-plugin
```

```js:webpack.config.js
const CssMinimizerPlugin = require('css-minimizer-webpack-plugin')

module.exports = {
  ...
  plugins: [
    new MiniCssExtractPlugin({
      filename: '[name].css'
    }),
    ...
  ],
  ...
}
```

## ç©ºã®JSå‰Šé™¤ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
ç›®çš„ï¼šCSSåˆ†é›¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã¨ã€ç©ºã®JSãƒ•ã‚¡ã‚¤ãƒ«ãŒæ®‹ã£ã¦ã—ã¾ã†ã®ã§ã€ãã‚Œã‚’ç”Ÿæˆã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹

```bash
$ npm i -D webpack-remove-empty-scripts
```

```js:webpack.config.js
const WebpackRemoveEmptyScriptsPlugin = require('webpack-remove-empty-scripts');
...
module.exports = {
  ...
   plugins: [
    ...
    new WebpackRemoveEmptyScriptsPlugin(),
    ...
   ],
   ...
}
```

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã«ä½¿ã†è¨­å®šå€¤ã®.envãƒ•ã‚¡ã‚¤ãƒ«åŒ–

ç›®çš„ï¼šURLã‚„ãƒ­ã‚°ã‚¤ãƒ³IDãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’.envãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã™ã‚‹
ï¼ˆ`npm run upload` ã®æ™‚ã€URLã‚„ãƒ­ã‚°ã‚¤ãƒ³IDãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã›ãšã«æ¸ˆã‚€ã‚ˆã†ã«ãªã‚‹ï¼‰


å…ƒã€…kintone-plugin-uploaderã«ã¯ã€URLãªã©ã‚’ç’°å¢ƒå¤‰æ•°ã‹ã‚‰èª­ã¿è¾¼ã‚€æ©Ÿèƒ½ãŒå‚™ã‚ã£ã¦ã„ã‚‹ãŸã‚ã€.envãƒ•ã‚¡ã‚¤ãƒ«ã§ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

```bash
$ npm i -D dotenv-cli
```

package.jsonã¨åŒã˜å ´æ‰€ã«.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹


```:.env
KINTONE_BASE_URL=https://XXXXXX.cybozu.com
KINTONE_USERNAME=XXXXXX
KINTONE_PASSWORD=XXXXXX
```

package.jsonã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹

```diff json:package.json
  {
    ...
    "scripts": {
      ...
-     "upload": "kintone-plugin-uploader dist/plugin.zip --watch --waiting-dialog-ms 3000",
+     "upload": "dotenv -- kintone-plugin-uploader dist/plugin.zip --watch --waiting-dialog-ms 3000",
      ...
    },
    ...
  }
```


## Vue.jså°å…¥
åˆ¥è¨˜äº‹ã«æ›¸ãã¾ã™ã€‚